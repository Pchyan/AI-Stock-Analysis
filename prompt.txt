請創建一個基於React的網頁應用程式，整合Google Gemini API實現以下股票分析功能：

1. **核心架構**
- 使用Next.js框架建構
- 整合Google Gemini API處理自然語言查詢
- 採用Chart.js繪製技術分析圖表
- 連接Yahoo Finance API或Alpha Vantage獲取市場數據

2. **功能模組**
[技術分析]
- 即時繪製K線圖與5/20/60日均線
- 自動計算RSI、MACD、布林通道指標
- 標記黃金交叉/死亡交叉訊號
- 突破支撐壓力位提醒

[基本面分析]
- 自動抓取季報/年報關鍵數據
- 計算本益比、殖利率、ROE
- 建立財務健康度評分系統
- 同業比較功能

[籌碼面分析]
- 三大法人買賣超可視化
- 融資融券餘額趨勢圖
- 大戶持股比例監控
- 即時主力進出提示

3. **Gemini整合**
- 自然語言查詢界面
- 自動生成投資建議報告
- 風險評估模組
- 持倉組合優化建議

4. **附加功能**
- 自定義警報系統
- 回測模擬器
- 投資日誌自動生成
- 多螢幕儀表板佈局

請提供完整的前端代碼架構，包含：
1. 主要組件結構
2. API對接範例代碼
3. 圖表渲染邏輯
4. 自然語言處理流程
5. 錯誤處理機制


================================================

進階Prompt技巧

1.指定技術棧
請採用TypeScript編寫，使用Redux Toolkit管理狀態，整合Material-UI組件庫

2.數據源強化
加入TradingView數據格式兼容層，支持自定義數據源接入

3.AI提示詞優化
當Gemini生成報告時，需包含：風險係數計算、行業Beta值分析、黑天鵝事件模擬

4.安全要求
實現JWT雙因素認證，所有API請求需通過加密中間件


實際應用範例
請創建股票管理系統的持倉模組，需包含：
1. 自動計算成本價與現值損益
2. 視覺化持倉比例圓餅圖
3. 風險集中度警示
4. 股息再投資模擬器

使用React Hooks編寫組件，整合Gemini API實現：
- 自然語言查詢："顯示最近一個月虧損最多的持股"
- 自動生成調倉建議
- 重大事件影響力預測


測試與部署提示
請加入Jest單元測試案例，特別針對：
1. 技術指標計算準確性
2. API異常處理流程
3. 圖表數據邊界條件

部署流程需包含：
1. Vercel一鍵部署配置
2. Docker容器化方案
3. CI/CD管道設置


透過分層式Prompt設計，可讓Cursor AI生成結構清晰的專業級應用程式框架，建議配合實際數據源API Key與測試案例逐步迭代開發。